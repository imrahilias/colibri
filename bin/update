#!/bin/bash
## backup stray config files

mydir="/home/m/.$(hostname)"
echo "running on $mydir"

case $(hostname) in
    archaeopteryx)
        ## rsnapshot timers
        sudo cp --parents /etc/systemd/system/rsnapshot-weekly.timer $mydir/
        sudo cp --parents /etc/systemd/system/rsnapshot-daily.timer $mydir/
        sudo cp --parents /etc/systemd/system/rsnapshot-hourly.timer $mydir/
        sudo cp --parents /etc/systemd/system/rsnapshot-monthly.timer $mydir/
        sudo cp --parents /etc/systemd/system/rsnapshot@.service $mydir/
        sudo cp --parents /etc/rsnapshot.conf $mydir/
        ## xorg
        sudo cp --parents /etc/pacman.d/hooks/nvidia.hook $mydir/
        ;;
    colibri)
        ;;
esac

## all
sudo cp --parents /boot $mydir/
sudo cp --parents /etc/mkinitcpio.conf $mydir/
sudo cp --parents /etc/pacman.conf $mydir/
sudo cp --parents /etc/fstab $mydir/
sudo cp --parents /etc/profile $mydir/
sudo cp --parents /etc/X11/xorg.conf $mydir/
sudo cp --parents /etc/X11/xorg.conf.d/70-synaptics.conf $mydir/
sudo cp --parents /etc/pacman.d/hooks/xkeyboard-config.hook $mydir/
